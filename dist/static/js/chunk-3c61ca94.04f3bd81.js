(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c61ca94"],{"0cd1":function(t,e){var l="https://www.easy-mock.com/mock/5c6a2c63218aad2259a06cc0";t.exports={testUrl:l}},3903:function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"table"},[l("div",{staticClass:"crumbs"},[l("el-breadcrumb",{attrs:{separator:"/"}},[l("el-breadcrumb-item",[l("i",{staticClass:"iconfont icon-goods-manage"}),t._v(" 商品列表")])],1)],1),l("div",{staticClass:"container"},[l("div",{staticClass:"handle-box"},[l("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"商品类别"},model:{value:t.select_cate,callback:function(e){t.select_cate=e},expression:"select_cate"}},[l("el-option",{key:"1",attrs:{label:"飞行器",value:"飞行器"}}),l("el-option",{key:"2",attrs:{label:"电脑",value:"电脑"}}),l("el-option",{key:"3",attrs:{label:"平板电脑",value:"平板电脑"}}),l("el-option",{key:"4",attrs:{label:"手机",value:"手机"}})],1),l("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.reset}},[t._v("新建")]),l("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.delAll}},[t._v("批量删除")]),l("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")])],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:t.data,border:""},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),l("el-table-column",{attrs:{prop:"id",label:"商品Id",sortable:"",width:"100"}}),l("el-table-column",{attrs:{prop:"title",label:"商品名",width:"150"}}),l("el-table-column",{attrs:{label:"商品图",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("img",{staticStyle:{width:"100px"},attrs:{src:e.row.img},on:{click:function(l){t.openImg(e.row.img)}}})]}}])}),l("el-table-column",{attrs:{prop:"price",label:"价格"}}),l("el-table-column",{attrs:{prop:"describe",label:"描述","show-overflow-tooltip":!0,offset:"0"}}),l("el-table-column",{attrs:{prop:"category",label:"类别",formatter:t.formatter}}),l("el-table-column",{attrs:{prop:"board",label:"品牌",formatter:t.formatter}}),l("el-table-column",{attrs:{prop:"shelves",label:"是否上架",filters:[{text:"已上架",value:"已上架"},{text:"已下架",value:"已下架"}],"filter-method":t.filterShelves,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-tag",{attrs:{type:"已上架"===e.row.shelves?"primary":"danger","disable-transitions":""}},[t._v(t._s(e.row.shelves))])]}}])}),l("el-table-column",{attrs:{prop:"storageTime",label:"入库时间"}}),l("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/goodsDetail",query:{id:e.row.id}}}},[l("el-button",{attrs:{type:"text",icon:"el-icon-search"}},[t._v("详情")])],1),l("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(l){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),l("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(l){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),l("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[l("el-form",{ref:"form",attrs:{model:t.form,"label-width":"50px"}},[l("el-form-item",{attrs:{label:"日期"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),l("el-form-item",{attrs:{label:"姓名"}},[l("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),l("el-form-item",{attrs:{label:"地址"}},[l("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),l("el-dialog",{attrs:{title:"删除提示",visible:t.delVisible,width:"30%"},on:{"update:visible":function(e){t.delVisible=e}}},[l("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)]),l("el-dialog",{staticClass:"img-dialog",attrs:{width:"400px",visible:t.imgVisible},on:{"update:visible":function(e){t.imgVisible=e}}},[l("el-card",{attrs:{"body-style":{padding:"0px"}}},[l("img",{attrs:{src:t.dialogImgUrl,width:"100%",height:"100%"}})])],1)],1)},a=[],s=(l("7f7f"),l("cadf"),l("551c"),l("097d"),l("0cd1")),o=l.n(s),r={name:"goodstable",data:function(){return{loading:!0,tableData:[],cur_page:1,total:0,page_size:8,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,form:{name:"",date:"",address:""},idx:-1,userId:"",imgVisible:!1,dialogImgUrl:""}},created:function(){this.getData()},computed:{data:function(){var t=this;return this.tableData.filter(function(e){for(var l=!1,i=0;i<t.del_list.length;i++)if(e.title===t.del_list[i].title){l=!0;break}if(!l&&e.category.indexOf(t.select_cate)>-1&&(e.title.indexOf(t.select_word)>-1||e.category.indexOf(t.select_word)>-1))return e})}},methods:{openImg:function(t){t&&(this.imgVisible=!0,this.dialogImgUrl=t)},handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this,e=o.a.testUrl+"/goodsList",l=(this.cur_page-1)*this.page_size,i=this.cur_page*this.page_size;this.$axios.post(e,{page:this.cur_page,size:this.page_size}).then(function(e){t.tableData=e.data.list.slice(l,i),t.total=e.data.list.length,t.loading=!1})},search:function(){},reset:function(){this.select_cate="",this.select_word=""},formatter:function(t,e){return t.category},filterShelves:function(t,e){return e.shelves===t},handleEdit:function(t,e){this.idx=t;var l=this.tableData[t];this.form={name:l.name,date:l.date,address:l.address},this.editVisible=!0,this.userId=e.id},handleDelete:function(t,e){this.idx=t,this.delVisible=!0,this.userId=e.id},delAll:function(){var t=this.multipleSelection.length;if(t>0){var e="";this.del_list=this.del_list.concat(this.multipleSelection);for(var l=0;l<t;l++)e+=this.multipleSelection[l].name+" ";this.$message.success("删除了"+e),this.multipleSelection=[]}else this.$message.error("请先选择要删除的记录")},handleSelectionChange:function(t){this.multipleSelection=t},saveEdit:function(){alert(this.userId),this.$set(this.tableData,this.idx,this.form),this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功"))},deleteRow:function(){alert(this.userId),this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1}}},n=r,c=(l("9008"),l("2877")),d=Object(c["a"])(n,i,a,!1,null,"5192b64e",null);d.options.__file="GoodsList.vue";e["default"]=d.exports},9008:function(t,e,l){"use strict";var i=l("d635"),a=l.n(i);a.a},d635:function(t,e,l){}}]);